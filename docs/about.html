<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>about</title>

<script src="site_libs/header-attrs-2.20/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">FOSSILPOL project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="about.html">General Information</a>
</li>
<li>
  <a href="step_by_step_guide.html">A step-by-step guide</a>
</li>
<li>
  <a href="get_in_touch.html">Get in touch!</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<div id="fossilpol-project" class="section level1">
<h1>FOSSILPOL
project<img src="figures/fossilpol_logo.png" align="right" width="200" /></h1>
<ul>
<li><a href="#fossilpol-project">FOSSILPOL project</a>
<ul>
<li><a href="#general-information">General information</a>
<ul>
<li><a href="#figure-1">Figure 1</a></li>
</ul></li>
<li><a href="#how-to-obtain-the-workflow">How to obtain the workflow</a>
<ul>
<li><a href="#code-block-1">Code block 1</a></li>
<li><a href="#set-up">Set up</a></li>
<li><a href="#cascade-of-r-scripts">Cascade of R scripts</a>
<ul>
<li><a href="#code-block-2">Code block 2</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<div id="general-information" class="section level2">
<h2>General information</h2>
<p>Here we present the guide on how to obtain and set up the FOSSILPOL
workflow which is an <a
href="https://en.wikipedia.org/wiki/R_(programming_language)">R</a>-based
modular workflow to process multiple fossil pollen records to create a
comprehensive, standardised dataset compilation, ready for multi-record
and multi-proxy analyses at macroecological scales (<a
href="#figure-1figure-1">Fig. 1</a>). The general guide is described in
the manuscript titled <em>A guide to the processing and standardisation
of global palaeoecological data for large-scale syntheses using fossil
pollen</em>, currently in review in <a
href="https://onlinelibrary.wiley.com/journal/14668238">Global Ecology
and Biogeography</a>.</p>
<p>The FOSSILPOL workflow is coded as an <a
href="https://support.posit.co/hc/en-us/articles/200526207-Using-RStudio-Projects">RStudio
project</a> (in the <a
href="https://en.wikipedia.org/wiki/R_(programming_language)">R
programming language</a>), which should be customised by the user for
their specific research project.</p>
<p>The FOSSILPOL workflow has been developed during the ERC project
called the <a
href="https://www.uib.no/en/rg/EECRG/107501/hope"><em>Humans on Planet
Earth</em> (HOPE)</a> team at the <a
href="https://www.uib.no/en">University of Bergen</a>.</p>
<div id="figure-1figure-1" class="section level3">
<h3>Figure 1<img src="figures/Workflow_MainText_Summary.png"
alt="Figure 1" /></h3>
</div>
</div>
<div id="how-to-obtain-the-workflow" class="section level2">
<h2>How to obtain the workflow</h2>
<p>The FOSSILPOL workflow (referred to as “the Workflow” from here on)
is accessible in two ways:</p>
<ol style="list-style-type: decimal">
<li><p>If a user has a <a href="https://github.com/">GitHub account</a>,
the easiest way is to create your own GitHub repo using this <a
href="https://github.com/HOPE-UIB-BIO/FOSSILPOL-workflow">GitHub
template</a>. More details about how to use GitHub templates are on <a
href="https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-repository-from-a-template">GitHub
Docs</a>.</p></li>
<li><p>A user can download the latest <em>Release</em> of the Workflow
as a zip file from the <a
href="https://github.com/HOPE-UIB-BIO/FOSSILPOL-workflow/releases">FOSSILPOL
Workflow Release page</a>.</p></li>
</ol>
<p>The R project consists of codes with individual scripts and
functions. All scripts are stored in the <code>R/</code> folder. After
obtaining the workflow, the FOSSILPOL R project will have the following
structure:</p>
<div id="code-block-1" class="section level3">
<h3>Code block 1</h3>
<pre class="{r}"><code>project
│
│   README.md
│   Rprofile
│   gitignore  
│   Workflow_template.Rproj
│
└───Data
│   │
│   └───Input
│       │
│       └───Spatial
│           │
│           └───Biomes_shapefile   
│           │   │
│           │   └───WWF
│           │
│           └───Calibration_curves_shapefile   
│           │
│           └───Countries_shapefile
│           │  
│           └───Harmonisation_regions_shapefile
│           │
│           └───Postbomb_shapefile
│           │
│           └───Regions_shapefile
│
└───R
│   │
│   │   ___Init_project___.R
│   │   00_Config_file.R
│   │
│   └───01_Data_processing
│   │   │   │
│   │   │   │   Master_run_01.R
│   │   │
│   │   └───01_Neotoma_source
│   │   │   │
│   │   │   │   Run_01_01.R
│   │   │   │   01_Download_neotoma.R
│   │   │   │   02_Extract_samples.R
│   │   │   │   03_Filter_dep_env.R
│   │   │   │   04_Extract_chron_control_tables.R
│   │   │   │   05_Extract_raw_pollen_data.R
│   │   │   
│   │   └───02_Other_source
│   │   │   │
│   │   │   │   Run_01_02.R
│   │   │   │   01_Import_other_data.R
│   │   │
│   │   └───03_Merging_and_geography
│   │   │   │
│   │   │   │   Run_01_03.R
│   │   │   │   01_Merge_datasets.R
│   │   │
│   │   └───04_Chronologies
│   │   │   │
│   │   │   │   Run_01_04.R
│   │   │   │   01_Prepare_chron_control_tables.R
│   │   │   │   02_Run_age_depth_models.R
│   │   │   │   03_Predict_ages.R
│   │   │   │   04_Save_AD_figures.R
│   │   │   │   05_Merge_chron_output.R
│   │   │
│   │   └───05_Harmonisation
│   │   │   │
│   │   │   │   Run_01_05.R
│   │   │   │   01_Harmonisation.R
│   │   │
│   │   └───06_Main_filtering
│   │   │   │
│   │   │   │   Run_01_06.R
│   │   │   │   01_Level_filtering.R
│   │   │
│   │   └───07_Outputs
│   │       │
│   │       │   Run_01_07.R
│   │       │   01_Pollen_diagrams.R
│   │       │   02_Save_assembly.R
│   │       │   03_Save_references.R
│   │
│   └───02_Main_analyses
│   │   │
│   │   │   Master_run_02.R
│   │
│   └───03_Supplementary_analyses
│   │   │
│   │   │   Master_run_03.R
│   │
│   └───Functions
│       │
│       │ example_function.R
│
└───renv
    │
    │   gitignore
    │   activate.R
    │   library_list.lock
    │   settings.dcf</code></pre>
</div>
<div id="set-up" class="section level3">
<h3>Set up</h3>
<p>Once a user obtains their own version of the Workflow, there are
several steps to be done before using it:</p>
<ul>
<li><p>Update <a
href="https://en.wikipedia.org/wiki/R_(programming_language)">R</a> and
<a href="https://posit.co/products/open-source/rstudio/">R-studio
IDE</a>. There are many guides on how to do so (e.g. <a
href="https://jennhuck.github.io/workshops/install_update_R.html">here</a>)</p></li>
<li><p>Execute all individual steps with the
<code>___Init_project___.R</code> script. This will result in the
preparation of all R-packages using the <a
href="https://rstudio.github.io/renv/articles/renv.html"><code>{renv}</code>
package</a>, which is an R dependency management of your projects.
Mainly it will install two main R-packages <a
href="https://github.com/HOPE-UIB-BIO/R-Fossilpol-package"><code>{RFossilpol}</code></a>
and <a
href="https://github.com/HOPE-UIB-BIO/R-Utilpol-package"><code>{RUtilpol}</code></a>
and all their dependencies. {RFossilpol} has been developed specifically
for the workflow and the latest release is automatically installed in
the project set-up stage. This is important as the package version
should aling with the Workflow version. Therefore, we do not recommend
updating the package after installation. Note that installing all
packages can take a substantial amount of time.</p></li>
<li><p>Set up your preferences by editing the
<code>00_Config_file.R</code> script (referred to as “<em>Config
file</em>” from here on). The Config file is a script where all settings
and criteria used throughout the project are predefined by the user
before running the Workflow. In addition, it prepares the current
session by loading the required packages and saving all settings
throughout the project. Points in the Config file that require the
user’s attention are flagged by “<strong>[USER]</strong>”, meaning that
these are criteria that need to be checked by the user. More info on the
Config file is given in the website section <a
href="step_by_step_guide.html">A step-by-step guide</a>. The crucial
points are:</p>
<ul>
<li><p><code>data_storage_path</code> within section “<em>4. Define the
directories (for big files)</em>” - as the Workflow produces several
large files, a user can specify the directory where such files will be
placed. Note that the default place is within the project.</p></li>
<li><p>section “<em>5. Define variables</em>” - there are many variables
important for data selection and filtering of the final data
assembly.</p></li>
</ul></li>
<li><p>Run <code>R/01_Data_processing/Master_run_01.R</code> to run the
whole data processing part of the project (be ready for <a
href="step_by_step_guide.html#data-stor"><strong>“stop-checks”</strong></a>).
Alternatively, the user can run each script individually. After all
<em>stop-checks</em> are resolved, the Workflow can be run as a whole to
produce the standardised dataset compilation, ready for multi-record and
multi-proxy analyses.</p></li>
<li><p>If desired, the user can run additional project-specific scripts
(not provided) in the <code>02_Main_analyses</code> and
<code>03_Supplementary_analyses</code> folders to analyse the data
compilation.</p></li>
</ul>
</div>
<div id="cascade-of-r-scripts" class="section level3">
<h3>Cascade of R scripts</h3>
<p>This Workflow is constructed using a <em>script cascade</em>. This
means that the <code>Master_run_01.R</code>, located within
<code>R/01_Data_processing/</code> folder, executes all scripts within
sub-folders of the <code>R/01_Data_processing/</code> folder, which in
turn, executes all their sub-folders (e.g.,
<code>R/01_Data_processing/01_Neotoma_source/Run_01_01.R</code> executes
<code>R/01_Data_processing/01_Neotoma_source/01_Download_neotoma.R</code>,
<code>R/01_Data_processing/01_Neotoma_source /02_Extract_samples.R</code>,
…). See <a href="#code-block-2">Code block 2</a>.</p>
<p>Therefore, a user can run the data processing section of the project
by executing <code>R/01_Data_processing/Master_run_01.R</code> script or
run individual sections by executing individual scripts within sections.
An alternative example is that the user can run the Workflow subsection
as a whole by running
<code>R/01_Data_processing/01_Neotoma_source/Run_01_01.R</code>, and not
<code>R/01_Data_processing/01_Neotoma_source/01_Download_neotoma.R</code>,
and then
<code>R/01_Data_processing/01_Neotoma_source /02_Extract_samples.R</code>,
etc.</p>
<div id="code-block-2" class="section level4">
<h4>Code block 2</h4>
<pre class="{r}"><code>R
│
└───01_Data_processing
        │
        │   Master_run_01.R
        │
        └───01_Neotoma_source
            │
            │   Run_01_01.R
                │
                │   01_Download_neotoma.R
                │   02_Extract_samples.R
                │   03_Filter_dep_env.R
                │   04_Extract_chron_control_tables.R
                │   05_Extract_raw_pollen_data.R
</code></pre>
</div>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
